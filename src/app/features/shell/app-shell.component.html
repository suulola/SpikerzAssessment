<div class="flex w-full h-screen bg-gray-soft-25 overflow-y-hidden overflow-x-visible md:p-7 gap-3 md:gap-8.75">
  <div class="relative h-full hidden md:block">
    <app-sidebar
      [collapsed]="isSidebarCollapsed()"
      (menuItemClick)="onMenuItemClick($event)"
      (toggle)="toggleSidebar()"
      (logout)="onSidebarLogout()"
    />
  </div>

  @if (isMobileSidebarOpen()) {
    <div class="fixed inset-0 z-40 md:hidden">
      <div class="absolute inset-0 bg-black/20" (click)="closeMobileSidebar()"></div>
      <div class="mobile-sidebar-panel mobile-sidebar-scroll">
        <app-sidebar
          [collapsed]="false"
          (menuItemClick)="onMenuItemClick($event)"
          (toggle)="toggleSidebar()"
          (logout)="onSidebarLogout()"
        />
      </div>
    </div>
  }

  <main class="flex-1 flex flex-col overflow-hidden min-w-0">
    <div class="md:hidden">
      <div class="flex items-center gap-3 bg-white shadow-background-md px-4 py-3">
        <button
          class="w-10 h-10 rounded-full bg-gray-soft-50 text-gray-soft-700 flex items-center justify-center"
          (click)="openMobileSidebar()"
          aria-label="Open menu"
        >
          <i class="pi pi-bars text-base"></i>
        </button>
        <span class="text-base font-semibold text-gray-soft-700 tracking-base">Spikerz</span>
      </div>
    </div>
    <div class="flex-1 min-h-0 overflow-auto lg:overflow-hidden">
      <router-outlet />
    </div>
  </main>
</div>
